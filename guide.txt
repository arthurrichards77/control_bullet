sudo apt install flightgear
git clone https://github.com/arthurrichards77/control_tutorial.git
wget http://mirrors.ibiblio.org/flightgear/ftp/Aircraft/J3Cub.zip
unzip J3Cub.zip
fgfs --aircraft=Cub --fg-aircraft=. --telnet=5051 --timeofday=morning
source runfg.sh
Throttle forward using num pad 9
Hold S
Wait - and don't worry about the lurch off the runway.  Get airborne.
Throttle back half using num pad 3.  Gentle use of arrows left/right to level up.
F11 - select "Heading Bug" radio and enter 180.  Tick "Heading control" box.
Press "H" to view HUD
Select "Vertical speed" radio and ensure says 0.  Tick "Pitch/Attitude control" box.

python3 -m venv venv
source venv/bin/activate
pip install scipy numpy matplotlib

Run "python fgclient.py" and you should see altitude, vertical speed and heading data tick by.  Note the speed.

Enable autopilot
Centre controls (num pad 5)
Fly straight and level
Run "python vs_p.py"

Play with the gain

If crazy, kill python, then run "python3 fgclient.py" again to recover.  Use File>Reset if you need to start again after a crash.

Estimate the steady state gain of system.  Change gain and check prediction.

Use python fgplot <logfile> to see traces

Add integral

Heading - proportional
then add differential

Back to VS mode.  Run 'vs_record.py' and take some data of simple steps.

jupyter notebook
Open model.ipynb
Edit %run fgplot.py <your log file>
Work through building model